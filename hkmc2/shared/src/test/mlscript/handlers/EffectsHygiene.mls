:js
:handler


// * Notice that the two module definitions are lifted to the top of the block.
:sjs
fun foo(h) =
  if false then
    module A
    A
  else
    module A
    A
//│ JS (unsanitized):
//│ let foo1;
//│ foo1 = function foo(h) {
//│   let A, scrut, A1;
//│   const A$class = class A {
//│     constructor() {}
//│     toString() { return "A"; }
//│   }; A1 = new A$class;
//│   A1.class = A$class;
//│   const A$class1 = class A {
//│     constructor() {}
//│     toString() { return "A"; }
//│   }; A = new A$class1;
//│   A.class = A$class1;
//│   scrut = false;
//│   if (scrut === true) {
//│     return A1;
//│   } else {
//│     return A;
//│   }
//│ };
//│ null


